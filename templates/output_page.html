{% extends 'base.html' %}

{% block head %}
<title>Processing</title>
{% endblock %}

{% block content %}
<!--- This portion will be displayed if any flashed messages are stored-->
<p>
	{% with messages = get_flashed_messages() %}
	  {% if messages %}
		<ul>
		{% for message in messages %}
		  <li>{{ message }}</li>
		{% endfor %}
		</ul>
	  {% endif %}
	{% endwith %}
</p>
<!--- This portion will be displayed if any flashed messages are stored-->

<!--- Display the Bokeh app -->
<h1>Live graph</h1>
<div style="display: flex; justify-content: center;">
  {{ script|safe }}
</div>
<!--- Display the Bokeh app -->

<!-- Display the video which is being processed-->
<div style="margin: 10px auto;">
  <video autoplay="true" controls="false">
    <source src="{{ url_for('display_video', filename=filename) }}" type="video/mp4"></source>
  </video>
</div>



<!-- Display the video which is being processed-->
 <div id="process">
	<img src="{{url_for('video') }}" width="50%"/>	
</div>
<body onload="myfun()">
<div id="process">
</div>
<script>
	function myfun(){
		var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function(){
			if(this.readyState == 4 && this.status == 200){
				
			}
		};
	}
</script>
</body>
{% endblock %}